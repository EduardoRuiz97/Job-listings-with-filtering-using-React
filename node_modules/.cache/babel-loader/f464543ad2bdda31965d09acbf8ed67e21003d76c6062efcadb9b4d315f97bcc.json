{"ast":null,"code":"import _toConsumableArray from\"/home/rosi/Documents/Eduardo/React/React Exercise/Ejercicio 6/static-job-listings-master/01-starting-project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/rosi/Documents/Eduardo/React/React Exercise/Ejercicio 6/static-job-listings-master/01-starting-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import jobsContext from'./JobsContext';import jobList from'../Assets/data.json';import{useReducer,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var defaultState=jobList;var filterReducer=function filterReducer(state,action){var filteredArray;var updatedArray;if(action.type==='FILTER'){filteredArray=state.filter(function(item){return item.languages.includes(action.val);});if(filteredArray.length===0){filteredArray=defaultState.filter(function(item){return!item.languages.indexOf(action.val);});}return filteredArray;}if(action.type==='DELETE'){var nonFilterItems=defaultState.filter(function(item){return!item.languages.includes(action.val);});filteredArray=state.filter(function(item){return item.languages.includes(action.val);});updatedArray=filteredArray.concat(nonFilterItems);return updatedArray;}if(action.type==='CLEAR'){return defaultState;}return defaultState;};var ContextProvider=function ContextProvider(props){var _useReducer=useReducer(filterReducer,defaultState),_useReducer2=_slicedToArray(_useReducer,2),arrayState=_useReducer2[0],dispatchArray=_useReducer2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filterArray=_useState2[0],setFilterArray=_useState2[1];var filteredFunction=function filteredFunction(condition){dispatchArray({type:\"FILTER\",val:condition});var filterArrayIndex=filterArray.indexOf(condition);if(filterArrayIndex===-1){setFilterArray(function(prevState){return[condition].concat(_toConsumableArray(prevState));});}};var clearFilterArrayHandler=function clearFilterArrayHandler(emptyArray){setFilterArray(emptyArray);dispatchArray({type:\"CLEAR\"});};var deleteFilterHandler=function deleteFilterHandler(item){dispatchArray({type:\"DELETE\",val:item});var newArrayOffilters=filterArray.filter(function(filter){return filter!==item;});setFilterArray(newArrayOffilters);};var listJobContext={filterItems:arrayState,filterArray:filterArray,clearFilterArray:clearFilterArrayHandler,filterFunction:filteredFunction,deleteFilter:deleteFilterHandler};return/*#__PURE__*/_jsx(jobsContext.Provider,{value:listJobContext,children:props.children});};export default ContextProvider;","map":{"version":3,"names":["jobsContext","jobList","useReducer","useState","jsx","_jsx","defaultState","filterReducer","state","action","filteredArray","updatedArray","type","filter","item","languages","includes","val","length","indexOf","nonFilterItems","concat","ContextProvider","props","_useReducer","_useReducer2","_slicedToArray","arrayState","dispatchArray","_useState","_useState2","filterArray","setFilterArray","filteredFunction","condition","filterArrayIndex","prevState","_toConsumableArray","clearFilterArrayHandler","emptyArray","deleteFilterHandler","newArrayOffilters","listJobContext","filterItems","clearFilterArray","filterFunction","deleteFilter","Provider","value","children"],"sources":["/home/rosi/Documents/Eduardo/React/React Exercise/Ejercicio 6/static-job-listings-master/01-starting-project/src/store/JobsContextProvider.js"],"sourcesContent":["import jobsContext from './JobsContext';\nimport jobList from '../Assets/data.json';\nimport { useReducer, useState} from 'react';\n\n\n\nconst defaultState = jobList;\n\nconst filterReducer = (state, action) => {\n\n  let filteredArray;\n  let updatedArray;\n\n  if (action.type === 'FILTER') {\n\n    filteredArray = state.filter(item => item.languages.includes(action.val));\n\n\n\n    if (filteredArray.length === 0) {\n      filteredArray = defaultState.filter(item => !item.languages.indexOf(action.val));\n    }\n\n    return filteredArray;\n  }\n\n  if (action.type === 'DELETE') {\n\n    const nonFilterItems = defaultState.filter(item => !item.languages.includes(action.val));\n    filteredArray = state.filter(item => item.languages.includes(action.val));\n\n\n    updatedArray = filteredArray.concat(nonFilterItems);\n\n\n    return updatedArray;\n\n  }\n\n  if (action.type === 'CLEAR') {\n    return defaultState\n  }\n\n\n  return defaultState;\n} \n\n\nconst ContextProvider = props => {\n\n  const [arrayState, dispatchArray] = useReducer(filterReducer, defaultState);\n\n  const [filterArray, setFilterArray] = useState([]);\n\n\n  const filteredFunction = (condition) => {\n    dispatchArray({type: \"FILTER\", val: condition})\n\n\n\n    const filterArrayIndex = filterArray.indexOf(condition);\n\n    if (filterArrayIndex === -1) {\n      setFilterArray(prevState => {\n        return [condition, ...prevState]\n      })\n    }\n\n  }\n\n\n  const clearFilterArrayHandler = (emptyArray) => {\n    setFilterArray(emptyArray);\n    dispatchArray({type: \"CLEAR\"})\n  }\n\n  const deleteFilterHandler = (item) => {\n    dispatchArray({type: \"DELETE\", val: item})\n\n    const newArrayOffilters = filterArray.filter(filter => filter !== item);\n\n    setFilterArray(newArrayOffilters)\n  }\n\n\n  const listJobContext = {\n    filterItems: arrayState,\n    filterArray: filterArray,\n    clearFilterArray: clearFilterArrayHandler,\n    filterFunction: filteredFunction,\n    deleteFilter: deleteFilterHandler,\n  };\n\n\n  return (\n    <jobsContext.Provider value={listJobContext}>{props.children}</jobsContext.Provider>\n  )\n}\n\nexport default ContextProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}